!function(t){t.fn.easyView=function(e,n){var a=t(this.selector);if("undefined"==typeof a.data("easyView")){"string"==typeof e&&(e={});var s={selector:a,currentRatio:100,normalContrast:!0,defaults:{container:"body",tags:["h1","h2","h3","h4","h5","h6","div","p","a","span","strong","em","ul","ol","li"],step:10,bootstrap:!0,defaultMarkup:'<a href="#decrease" class="decrease-text">Decrease font size</a><a href="#normal" class="reset-text">Normal font size</a><a href="#increase" class="increase-text">Increase font size</a><a href="#contrast" class="contrast-text">Change contrast</a>',increaseSelector:".increase-text",decreaseSelector:".decrease-text",normalSelector:".reset-text",contrastSelector:".contrast-text"},options:{},affectedTags:new Array,mergeOptions:function(e){t.extend(this.options,this.defaults,e)},storeDefaults:function(){t.each(this.affectedTags,function(e,n){t(n).each(function(){var e=t(this),n=e.css("font-size");n.indexOf("%")>-1?(e.data("originalSize",parseInt(n.replace("%",""))),e.data("originalUnit","%")):(e.data("originalSize",parseInt(n.replace(n.substr(-2),""))),e.data("originalUnit",n.substr(-2))),e.data("originalBackground",e.css("background-color")),e.data("originalColor",e.css("color"))})}),t(this.options.container).data("originalBackground",t(this.options.container).css("background-color")),t(this.options.container).data("originalColor",t(this.options.container).css("color"))},createDefaultMarkup:function(){""==a.html()&&a.html(this.options.defaultMarkup)},setActions:function(){var t=this;a.find(this.options.decreaseSelector).click(function(e){e.preventDefault(),t.decreaseFont()}),a.find(this.options.normalSelector).click(function(e){e.preventDefault(),t.resetFont()}),a.find(this.options.increaseSelector).click(function(e){e.preventDefault(),t.increaseFont()}),a.find(this.options.contrastSelector).click(function(e){e.preventDefault(),t.changeContrast()})},fetchTags:function(){var e=this.affectedTags,n=this.options;t.each(this.options.tags,function(t,a){e.push(n.container+" "+a)})},decreaseFont:function(){this.currentRatio-this.options.step>=10&&(this.currentRatio=this.currentRatio-this.options.step),this.changeFontSize()},resetFont:function(){this.currentRatio=100,this.changeFontSize()},increaseFont:function(){this.currentRatio=this.currentRatio+this.options.step,this.changeFontSize()},changeFontSize:function(e){"undefined"!=typeof e&&parseInt(e)>10&&(this.currentRatio=e);var n=this.currentRatio;t.each(this.affectedTags,function(e,a){t(a).each(function(){var e=t(this);e.css("font-size",e.data("originalSize")*(n/100)+e.data("originalUnit"))})})},changeContrast:function(){var e=this.normalContrast;t.each(this.affectedTags,function(n,a){t(a).each(function(){var n=t(this);e?(n.css("background-color","#000"),n.css("color","#fff")):(n.css("background-color",""),n.css("color",""))})}),t(this.options.container).css("background-color",e?"#000":t(this.options.container).data("originalBackground")),t(this.options.container).css("color",e?"#fff":t(this.options.container).data("originalColor")),this.normalContrast=!this.normalContrast},startPlugin:function(t){this.mergeOptions(t),this.fetchTags(),this.storeDefaults(),this.createDefaultMarkup(),this.setActions()},executeFunction:function(t,e){switch(t){case"decrease":this.decreaseFont();break;case"reset":this.resetFont();break;case"increase":this.increaseFont();break;case"contrast":"undefined"!=typeof e&&(e?this.normalContrast=!0:this.normalContrast=!1),this.changeContrast();break;case"setRatio":this.changeFontSize(ratio);break;default:alert("Called function does not exist!")}},destroy:function(){this.resetFont(),this.normalContrast=!1,this.changeContrast(),a.removeData("easyView")}};s.startPlugin(e),a.data("easyView",s)}else{var s=a.data("easyView");"object"==typeof e?(s.destroy(),s.startPlugin(e)):"string"==typeof e?s.executeFunction(e,n):alert("Invalid params to start")}}}(jQuery);